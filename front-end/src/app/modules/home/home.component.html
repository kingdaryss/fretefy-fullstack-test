<app-card>
  <app-card-header>
    <span class="app-card-title">Regiões</span>
    <span class="app-card-subtitle">Listagem completa das regiões com detalhamento das cidades</span>
  </app-card-header>
  <app-card-content>
    <app-table [data]="dataSource$ | async">
      <app-toolbar>
        <ng-template>
          <app-button [appTooltip]="'Clique aqui para adicionar uma região'"  app-button routerLink="/regiao" color="success">
            <span appIcon>add</span> Adicionar</app-button>
        </ng-template>
      </app-toolbar>
      <app-column caption="Nome">
        <ng-template let-item>{{ item.name }}</ng-template>
      </app-column>
      <app-column caption="Status" [width]="100" [textAlign]="'center'">
        <ng-template let-item>
          <span class="material-symbols-outlined fill font-weight-bold" [ngClass]="item.status ? 'text-success' : 'text-danger'">
            {{ item.status ? 'done' : 'close' }}
          </span>
        </ng-template>
      </app-column>
      <app-column caption="Ações" [width]="150" [textAlign]="'center'">
        <ng-template let-item>
          <app-button appIconButton [appTooltip]="'Clique aqui para editar a região'" [routerLink]="['/regiao', item.id]"><span appIcon>edit</span></app-button>
          <app-button appIconButton [appTooltip]="'Clique aqui para ' + (item.status ? 'desativar' : 'ativar') + ' a região'" (click)="update(item, !item.status)">
            <span appIconFill class="font-weight-bold text-primary">{{ item.status ? 'pause' : 'play_arrow'  }}</span>
          </app-button>
        </ng-template>
      </app-column>
    </app-table>
  </app-card-content>
</app-card>
